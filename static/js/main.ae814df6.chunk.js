(this["webpackJsonpreact-graphql-challenge"]=this["webpackJsonpreact-graphql-challenge"]||[]).push([[0],{109:function(e,t,n){},275:function(e,t,n){},277:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var r,c,a,i,l,u,s,o,d,b,f,h=n(5),p=n.n(h),j=n(98),v=n.n(j),m=(n(109),n(99)),O=n.n(m),g=(n(275),n(7)),T=function(){return Object(g.jsx)(O.a,{id:"tsparticles",options:{fpsLimit:60,particles:{color:{value:"#ffffff"},line_linked:{color:"#ffffff",distance:150,enable:!1,opacity:.4,width:1},move:{attract:{enable:!1,rotateX:600,rotateY:600},bounce:!1,direction:"none",enable:!0,out_mode:"out",random:!0,speed:.3,straight:!1},number:{density:{enable:!0,value_area:800},value:600},opacity:{anim:{enable:!0,opacity_min:.3,speed:5,sync:!1},random:{enable:!0,minimumValue:.3},value:.6},shape:{type:"circle"},size:{anim:{enable:!1,size_min:.3,speed:4,sync:!1},random:!1,value:1}},retina_detect:!0}})},x=n(30),_=(n(277),Object(h.createContext)({})),E=function(e){var t=e.initialState,n=e.reducer,r=e.children;return Object(g.jsx)(_.Provider,{value:Object(h.useReducer)(n,t),children:r})},y=function(){return Object(h.useContext)(_)},S=function(){var e=y(),t=Object(x.a)(e,2)[1];return Object(h.useEffect)((function(){setTimeout((function(){var e,n=null===(e=document.querySelector(".header"))||void 0===e?void 0:e.classList;null===n||void 0===n||n.add("fadeout"),setTimeout((function(){null===n||void 0===n||n.add("hide"),t({type:"SET_SELECTED",selected:0})}),1500)}),1500)}),[]),Object(g.jsx)("div",{className:"header"})},k=n(16),w=n(104),L=function(e){var t=e.videoId,n=Object(w.a)(e,["videoId"]);return Object(g.jsx)("iframe",Object(k.a)(Object(k.a)({},n),{},{src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))},I=n(26),C=n.n(I),N=n(66),P=function(e,t){return Math.abs(e-t)},D=function(e){return new Promise((function(t){return setTimeout(t,e)}))},R=function(){var e=Object(h.useState)("mobile"),t=Object(x.a)(e,2),n=t[0],r=t[1],c=function(){window.innerWidth>768?r("PC"):window.innerWidth<=768&&window.innerWidth>576?r("tablet"):window.innerWidth<=576&&r("mobile")};return Object(h.useEffect)((function(){return window.addEventListener("resize",c),c(),function(){window.removeEventListener("resize",c)}}),[]),n},q=n(103),A=n(39),H=n(18),M={};!function(e){e.Ignore="ignore",e.Update="update"}(s||(s={})),function(e){e.Asc="asc",e.AscNullsFirst="asc_nulls_first",e.AscNullsLast="asc_nulls_last",e.Desc="desc",e.DescNullsFirst="desc_nulls_first",e.DescNullsLast="desc_nulls_last"}(o||(o={})),function(e){e.UsersPkey="users_pkey"}(d||(d={})),function(e){e.Id="id",e.Name="name",e.Rocket="rocket",e.Timestamp="timestamp",e.Twitter="twitter"}(b||(b={})),function(e){e.Id="id",e.Name="name",e.Rocket="rocket",e.Timestamp="timestamp",e.Twitter="twitter"}(f||(f={}));var F=Object(H.gql)(r||(r=Object(A.a)(["\n    fragment RegularLaunchSite on LaunchSite {\n  site_name_long\n}\n    "]))),G=Object(H.gql)(c||(c=Object(A.a)(["\n    fragment RegularLinks on LaunchLinks {\n  article_link\n  video_link\n}\n    "]))),W=Object(H.gql)(a||(a=Object(A.a)(["\n    fragment RegularRocket on LaunchRocket {\n  rocket_name\n  rocket_type\n}\n    "]))),z=Object(H.gql)(i||(i=Object(A.a)(["\n    fragment RegularLaunch on Launch {\n  id\n  mission_name\n  launch_date_local\n  details\n  launch_success\n  launch_site {\n    ...RegularLaunchSite\n  }\n  links {\n    ...RegularLinks\n  }\n  rocket {\n    ...RegularRocket\n  }\n}\n    ","\n","\n",""])),F,G,W),Y=Object(H.gql)(l||(l=Object(A.a)(["\n    query LaunchNext {\n  launchNext {\n    ...RegularLaunch\n  }\n}\n    ",""])),z);var B=Object(H.gql)(u||(u=Object(A.a)(["\n    query LaunchesPast($limit: Int) {\n  launchesPast(limit: $limit) {\n    ...RegularLaunch\n  }\n}\n    ",""])),z);var Q,J=function(){var e=y(),t=Object(x.a)(e,2),n=t[0].limit,r=t[1],c=function(e){var t=Object(k.a)(Object(k.a)({},M),e);return H.useQuery(Y,t)}(),a=c.data,i=c.error,l=function(e){var t=Object(k.a)(Object(k.a)({},M),e);return H.useQuery(B,t)}({variables:{limit:n}}),u=l.data,s=l.error;if((null===u||void 0===u?void 0:u.launchesPast)&&Array.isArray(u.launchesPast)){var o=[].concat(Object(q.a)(u.launchesPast),[null===a||void 0===a?void 0:a.launchNext]);return r({type:"SET_LIMT",limit:o.length}),{data:o,error:s||i}}return{data:[null],error:s||i}},U=(n(284),function(e){if("string"!==typeof e||!e.includes("/"))return"aVFPzTDCihQ";var t=e.split("/");return t[t.length-1]}),V=function(){var e,t,n,r,c,a=function(){var e=y(),t=Object(x.a)(e,2),n=t[0],r=n.dispatching,c=n.limit,a=n.selected,i=t[1],l=function(){var e=document.querySelector(".wrapper"),t=.9*document.body.clientHeight,n=null===e||void 0===e?void 0:e.scrollTop,r=null===e||void 0===e?void 0:e.scrollHeight;return"number"===typeof n&&"number"===typeof r&&P(t+n,r)<1},u=function(){var e;return 0===(null===(e=document.querySelector(".wrapper"))||void 0===e?void 0:e.scrollTop)};function s(){return(s=Object(N.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof t&&!r){e.next=2;break}return e.abrupt("return");case 2:if(n=a,!(t&&a<c)){e.next=9;break}if(l()){e.next=6;break}return e.abrupt("return");case 6:n++,e.next=13;break;case 9:if(t){e.next=13;break}if(u()){e.next=12;break}return e.abrupt("return");case 12:n=a?--n:c-1;case 13:return i({type:"SET_DISPATCHING",dispatching:!0}),i({type:"SET_SELECTED",selected:-1}),e.next=17,D(1e3);case 17:return i({type:"SET_SELECTED",selected:n%c}),e.next=20,D(2e3);case 20:i({type:"SET_DISPATCHING",dispatching:!1});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{handleOnWheel:function(){var e=Object(N.a)(C.a.mark((function e(t){var n,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r||P(t.deltaY,0)<50)){e.next=2;break}return e.abrupt("return");case 2:if(n=t.deltaY>0,s=a,!(n&&a<c)){e.next=10;break}if(l()){e.next=7;break}return e.abrupt("return");case 7:s++,e.next=14;break;case 10:if(n){e.next=14;break}if(u()){e.next=13;break}return e.abrupt("return");case 13:s=a?--s:c-1;case 14:return i({type:"SET_DISPATCHING",dispatching:!0}),i({type:"SET_SELECTED",selected:-1}),e.next=18,D(1e3);case 18:return i({type:"SET_SELECTED",selected:s%c}),e.next=21,D(2e3);case 21:i({type:"SET_DISPATCHING",dispatching:!1});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleTouchMove:function(e){return s.apply(this,arguments)}}}(),i=a.handleOnWheel,l=a.handleTouchMove,u=function(){var e=Object(h.useRef)(0),t=Object(h.useState)(null),n=Object(x.a)(t,2),r=n[0],c=n[1],a=y(),i=Object(x.a)(a,1)[0].selected,l=J(),u=l.data,s=l.error;return Object(h.useEffect)((function(){c(-1===i?null:null===u||void 0===u?void 0:u[i]),e.current++,console.log("TargetComponent has re-render ".concat(e.current," times ~"))}),[i]),{target:r,error:s}}(),s=u.target,o=u.error,d=R(),b="mobile"===d;if(o)return Object(g.jsx)("div",{children:o});var f=0;return Object(g.jsxs)("div",{className:"home",onWheel:function(e){"PC"===d&&i(e)},onTouchStart:function(e){"mobile"===d&&(f=e.changedTouches[0].clientY)},onTouchMove:function(e){if("mobile"===d){var t=e.changedTouches[0].clientY,n=t-f<0,r=P(t,f);l(r>30?n:void 0)}},children:[Object(g.jsx)(S,{}),s?Object(g.jsx)("div",{className:"item",children:Object(g.jsxs)("ul",{className:"wrapper",style:{width:b?"100vw":"90vw"},children:[Object(g.jsx)("h2",{className:"title",children:null===s||void 0===s?void 0:s.mission_name}),Object(g.jsxs)("p",{style:{padding:b?"0 5vw":"0"},children:[Object(g.jsx)("span",{children:null===s||void 0===s?void 0:s.details}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:null===(e=s.rocket)||void 0===e?void 0:e.rocket_name}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:null===(t=s.rocket)||void 0===t?void 0:t.rocket_type}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:s.launch_date_local}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:null===(n=s.links)||void 0===n?void 0:n.article_link})]}),(null===(r=s.links)||void 0===r?void 0:r.video_link)?Object(g.jsx)(L,{className:"embed__video",style:{width:b?"100%":"560px",minHeight:b?"350px":"380px",borderRadius:b?"0":"12px"},videoId:U(null===(c=s.links)||void 0===c?void 0:c.video_link),title:s.mission_name||""}):null]})}):null]})},$=(n(285),function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(T,{}),Object(g.jsx)(V,{})]})}),X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,287)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},K=new H.ApolloClient({uri:"https://api.spacex.land/graphql",cache:new H.InMemoryCache});!function(e){e.SET_DISPATCHING="SET_DISPATCHING",e.SET_SELECTED="SET_SELECTED",e.SET_LIMIT="SET_LIMIT"}(Q||(Q={}));var Z=function(e,t){switch(t.type){case Q.SET_DISPATCHING:return Object(k.a)(Object(k.a)({},e),{},{dispatching:t.dispatching});case Q.SET_SELECTED:return Object(k.a)(Object(k.a)({},e),{},{selected:t.selected});case Q.SET_LIMIT:return Object(k.a)(Object(k.a)({},e),{},{selected:t.limit});default:return e}};v.a.render(Object(g.jsx)(p.a.StrictMode,{children:Object(g.jsx)(H.ApolloProvider,{client:K,children:Object(g.jsx)(E,{initialState:{dispatching:!1,selected:-1,limit:10},reducer:Z,children:Object(g.jsx)($,{})})})}),document.getElementById("root")),X()}},[[286,1,2]]]);
//# sourceMappingURL=main.ae814df6.chunk.js.map