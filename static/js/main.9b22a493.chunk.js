(this["webpackJsonpreact-graphql-challenge"]=this["webpackJsonpreact-graphql-challenge"]||[]).push([[0],{63:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c,a,r,i,l,s,o,u,d,j,b,m=n(4),h=n.n(m),f=n(54),v=n.n(f),O=(n(63),n(22)),p=n(3),g=Object(m.createContext)({}),x=function(e){var t=e.initialState,n=e.reducer,c=e.children;return Object(p.jsx)(g.Provider,{value:Object(m.useReducer)(n,t),children:c})},k=function(){return Object(m.useContext)(g)},_=(n(65),function(){var e=k(),t=Object(O.a)(e,2)[1];return Object(m.useEffect)((function(){setTimeout((function(){var e,n=null===(e=document.querySelector(".header"))||void 0===e?void 0:e.classList;null===n||void 0===n||n.add("fadeout"),setTimeout((function(){null===n||void 0===n||n.add("hide"),t({type:"SET_SELECTED",selected:0})}),1500)}),1500)}),[]),Object(p.jsx)("div",{className:"header"})}),T=(n(66),function(e){if(!e||!(null===e||void 0===e?void 0:e.includes("/")))return"";for(var t=e.split("/"),n="",c=t.length;c>0&&!(n=t[c--]););return n.replaceAll("-"," ")}),S=n(8),E=n(23),y=function(e){if("string"!==typeof e||!e.includes("/"))return"aVFPzTDCihQ";var t=e.split("/");return t[t.length-1]},w=function(e){var t=e.videoId,n=Object(E.a)(e,["videoId"]);return Object(p.jsx)("iframe",Object(S.a)(Object(S.a)({},n),{},{src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))},N=function(e){var t=e.link,n=e.title,c=e.name,a=e.nameBreak,r=void 0!==a&&a,i=Object(E.a)(e,["link","title","name","nameBreak"]);return t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("br",{}),c,"\uff1a",r?Object(p.jsx)("br",{}):null,Object(p.jsx)("br",{}),Object(p.jsx)(w,Object(S.a)(Object(S.a)({},i),{},{className:"embed__video",videoId:y(t),title:n||""})),Object(p.jsx)("br",{})]}):null},L=function(e){var t=e.className,n=e.href,c=e.name,a=e.nameBreak,r=void 0!==a&&a,i=e.description,l=Object(E.a)(e,["className","href","name","nameBreak","description"]);return n&&i?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("br",{}),c,"\uff1a",r?Object(p.jsx)("br",{}):null,Object(p.jsx)("a",Object(S.a)(Object(S.a)({},l),{},{className:t,href:n,children:i})),Object(p.jsx)("br",{})]}):null},I=function(e){var t=e.className,n=e.name,c=e.nameBreak,a=void 0!==c&&c,r=e.beforeBreak,i=void 0!==r&&r,l=e.content,s=Object(E.a)(e,["className","name","nameBreak","beforeBreak","content"]);return(null===l||void 0===l?void 0:l.length)?Object(p.jsxs)(p.Fragment,{children:[i?Object(p.jsx)("br",{}):null,n,"\uff1a",a?Object(p.jsx)("br",{}):null,Object(p.jsx)("span",Object(S.a)(Object(S.a)({style:{fontSize:"18px"}},s),{},{className:t,children:l})),Object(p.jsx)("br",{})]}):null},C=function(e){var t,n,c,a,r,i,l,s=e.target,o=e.variant,u="mobile"===o;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:"title",children:null===s||void 0===s?void 0:s.mission_name}),Object(p.jsxs)("p",{className:"text",style:{padding:"PC"!==o?"0 5vw":"0"},children:[Object(p.jsx)(I,{className:"rocket",name:"\ud83d\ude80 Rocket",content:null===(t=s.rocket)||void 0===t?void 0:t.rocket_name}),Object(p.jsx)(I,{className:"id",name:"\ud83d\udea9 ID",content:s.id}),Object(p.jsx)(I,{className:"type",name:"\u2728 Types",content:null===(n=s.rocket)||void 0===n?void 0:n.rocket_type}),Object(p.jsx)(I,{className:"state",name:"\u2714\ufe0f State",content:s.launch_success?"Success":"Failure"}),Object(p.jsx)(I,{className:"date",name:"\ud83d\udcc5 Date",style:{fontSize:"16px"},content:s.launch_date_local}),Object(p.jsx)(I,{className:"site",name:"\ud83d\udccd Site",content:null===(c=s.launch_site)||void 0===c?void 0:c.site_name_long}),Object(p.jsx)(L,{className:"article__link",href:(null===s||void 0===s||null===(a=s.links)||void 0===a?void 0:a.article_link)||"",target:"_blank",name:"\u2728 Article",nameBreak:!0,description:T(null===s||void 0===s||null===(r=s.links)||void 0===r?void 0:r.article_link)}),Object(p.jsx)(I,{className:"detail",name:"\ud83d\udca1 Details",nameBreak:!0,beforeBreak:!0,content:s.details}),Object(p.jsx)(N,{link:null===(i=s.links)||void 0===i?void 0:i.video_link,title:(null===(l=s.rocket)||void 0===l?void 0:l.rocket_name)||"",name:"\ud83d\udd17 Video",nameBreak:!0,style:{width:"100%",minHeight:u?"350px":"600px",borderRadius:u?"0":"12px"}}),Object(p.jsx)("br",{})]})]})},P=n(40),D=n.n(P),R=n(55),B=function(e,t){return Math.abs(e-t)},q=function(e){return new Promise((function(t){return setTimeout(t,e)}))},A=function(){var e=Object(m.useState)("mobile"),t=Object(O.a)(e,2),n=t[0],c=t[1],a=function(){window.innerWidth>=1100?c("PC"):window.innerWidth<=768&&window.innerWidth>576?c("tablet"):window.innerWidth<=576&&c("mobile")};return Object(m.useEffect)((function(){return window.addEventListener("resize",a),a(),function(){window.removeEventListener("resize",a)}}),[]),n},F=n(24),M=n(10),H={};!function(e){e.Ignore="ignore",e.Update="update"}(o||(o={})),function(e){e.Asc="asc",e.AscNullsFirst="asc_nulls_first",e.AscNullsLast="asc_nulls_last",e.Desc="desc",e.DescNullsFirst="desc_nulls_first",e.DescNullsLast="desc_nulls_last"}(u||(u={})),function(e){e.UsersPkey="users_pkey"}(d||(d={})),function(e){e.Id="id",e.Name="name",e.Rocket="rocket",e.Timestamp="timestamp",e.Twitter="twitter"}(j||(j={})),function(e){e.Id="id",e.Name="name",e.Rocket="rocket",e.Timestamp="timestamp",e.Twitter="twitter"}(b||(b={}));var W=Object(M.gql)(c||(c=Object(F.a)(["\n    fragment RegularLaunchSite on LaunchSite {\n  site_name_long\n}\n    "]))),z=Object(M.gql)(a||(a=Object(F.a)(["\n    fragment RegularLinks on LaunchLinks {\n  article_link\n  video_link\n}\n    "]))),G=Object(M.gql)(r||(r=Object(F.a)(["\n    fragment RegularRocket on LaunchRocket {\n  rocket_name\n  rocket_type\n}\n    "]))),Y=Object(M.gql)(i||(i=Object(F.a)(["\n    fragment RegularLaunch on Launch {\n  id\n  mission_name\n  launch_date_local\n  details\n  launch_success\n  launch_site {\n    ...RegularLaunchSite\n  }\n  links {\n    ...RegularLinks\n  }\n  rocket {\n    ...RegularRocket\n  }\n}\n    ","\n","\n",""])),W,z,G),Q=Object(M.gql)(l||(l=Object(F.a)(["\n    query LaunchNext {\n  launchNext {\n    ...RegularLaunch\n  }\n}\n    ",""])),Y);var J=Object(M.gql)(s||(s=Object(F.a)(["\n    query LaunchesPast($limit: Int) {\n  launchesPast(limit: $limit) {\n    ...RegularLaunch\n  }\n}\n    ",""])),Y);var U,V=function(){var e=function(e){var t=Object(S.a)(Object(S.a)({},H),e);return M.useQuery(Q,t)}(),t=e.data,n=e.error,c=function(e){var t=Object(S.a)(Object(S.a)({},H),e);return M.useQuery(J,t)}({variables:{limit:10}}),a=c.data,r=c.error;if((null===a||void 0===a?void 0:a.launchesPast)&&Array.isArray(a.launchesPast)){var i=[];return a.launchesPast.forEach((function(e){return i.push(e)})),i.reverse(),i.push(null===t||void 0===t?void 0:t.launchNext),{data:i,error:r||n}}return{data:[null],error:r||n}},$=(n(74),function(){var e=function(){var e=k(),t=Object(O.a)(e,2),n=t[0],c=n.dispatching,a=n.limit,r=n.selected,i=t[1],l=function(){var e=document.querySelector(".wrapper"),t=document.body.clientHeight*(document.body.clientWidth<=576?1:.9),n=null===e||void 0===e?void 0:e.scrollTop,c=null===e||void 0===e?void 0:e.scrollHeight;return"number"===typeof n&&"number"===typeof c&&B(t+n,c)<2},s=function(){var e;return 0===(null===(e=document.querySelector(".wrapper"))||void 0===e?void 0:e.scrollTop)},o=function(){var e=Object(R.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"SET_DISPATCHING",dispatching:!0}),i({type:"SET_SELECTED",selected:-1}),e.next=4,q(1e3);case 4:return i({type:"SET_SELECTED",selected:t%a}),e.next=7,q(2e3);case 7:i({type:"SET_DISPATCHING",dispatching:!1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{handleOnWheel:function(e){if(!(c||B(e.deltaY,0)<40)){var t=e.deltaY>0,n=r;if(t&&r<a){if(!l())return;n++}else if(!t){if(!s())return;n=r?--n:a-1}o(n)}},handleTouchMove:function(e){if(void 0!==e&&!c){var t=r;if(e&&r<a){if(!l())return;t++}else if(!e){if(!s())return;t=r?--t:a-1}o(t)}}}}(),t=e.handleOnWheel,n=e.handleTouchMove,c=function(){var e=Object(m.useRef)(0),t=Object(m.useState)(null),n=Object(O.a)(t,2),c=n[0],a=n[1],r=k(),i=Object(O.a)(r,1)[0].selected,l=V(),s=l.data,o=l.error;return Object(m.useEffect)((function(){a(-1===i?null:null===s||void 0===s?void 0:s[i]),e.current++,console.log("TargetComponent has re-render ".concat(e.current," times ~"))}),[i]),{target:c,error:o}}(),a=c.target,r=c.error,i=A(),l=0;return r?Object(p.jsx)("div",{children:r}):Object(p.jsxs)("div",{className:"home",onWheel:function(e){return t(e)},onTouchStart:function(e){"PC"!==i&&(l=e.changedTouches[0].clientY)},onTouchMove:function(e){if("PC"!==i){var t=e.changedTouches[0].clientY,c=t-l<0,a=B(t,l);n(a>30?c:void 0)}},children:[Object(p.jsx)(_,{}),a?Object(p.jsx)("div",{className:"item",children:Object(p.jsx)("ul",{className:"wrapper",children:Object(p.jsx)(C,{target:a,variant:i})})}):null]})}),K=(n(75),function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)($,{})})}),X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},Z=new M.ApolloClient({uri:"https://api.spacex.land/graphql",cache:new M.InMemoryCache}),ee={dispatching:!1,selected:-1,limit:11};!function(e){e.SET_DISPATCHING="SET_DISPATCHING",e.SET_SELECTED="SET_SELECTED",e.SET_LIMIT="SET_LIMIT"}(U||(U={}));var te=function(e,t){switch(t.type){case U.SET_DISPATCHING:return Object(S.a)(Object(S.a)({},e),{},{dispatching:t.dispatching});case U.SET_SELECTED:return Object(S.a)(Object(S.a)({},e),{},{selected:t.selected});case U.SET_LIMIT:return Object(S.a)(Object(S.a)({},e),{},{limit:t.limit});default:return e}};v.a.render(Object(p.jsx)(h.a.StrictMode,{children:Object(p.jsx)(M.ApolloProvider,{client:Z,children:Object(p.jsx)(x,{initialState:ee,reducer:te,children:Object(p.jsx)(K,{})})})}),document.getElementById("root")),X()}},[[76,1,2]]]);
//# sourceMappingURL=main.9b22a493.chunk.js.map